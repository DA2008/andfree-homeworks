# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∫ –∑–∞–Ω—è—Ç–∏—é 3. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ 
–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —É–¥–æ–±–Ω—ã–π —Å–µ—Ä–≤–∏—Å –æ—Ç Wolfram Alpha, –∞ –∏–º–µ–Ω–Ω–æ [Short Answer API](https://products.wolframalpha.com/simple-api/documentation/). –í —ç—Ç–æ–º –¥–æ–º–∞—à–Ω–µ–º –∑–∞–¥–∞–Ω–∏–∏ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —ç—Ç–∏–º —Å–µ—Ä–≤–∏—Å–æ–º –≤ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
 

## –ó–∞–¥–∞–Ω–∏–µ 1
–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≤ Wolfram Alpha –ø–æ [—Å—Å—ã–ª–∫–µ](https://account.wolfram.com/login/create).

![](–î–ó3/1_1.png)

–ó–∞—Ç–µ–º –ø–æ–ª—É—á–∏—Ç–µ AppID. –î–ª—è —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ [—Å—Å—ã–ª–∫–µ](https://developer.wolframalpha.com/portal/myapps/index.html), –Ω–∞–∂–º–∏—Ç–µ **Get an AppID**. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è AppID –Ω–∞–¥–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤, –ø—Ä–µ–∂–¥–µ —á–µ–º –æ–Ω –Ω–∞—á–Ω—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

![](–î–ó3/1_2.png)

## –ó–∞–¥–∞–Ω–∏–µ 2
–î–æ–±–∞–≤—å—Ç–µ **Wolfram Alpha SDK** –≤ –ø—Ä–æ–µ–∫—Ç.

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
1.–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [—Å—Ç—Ä–∞–Ω–∏—Ü—É –±–∏–±–ª–∏–æ—Ç–µ–∫ Wolfram Alpha.](https://products.wolframalpha.com/api/libraries.html) –í—ã–±–µ—Ä–∏—Ç–µ Java. –ù–∞–∂–º–∏—Ç–µ Download. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–æ–ª–∂–µ–Ω —Å–∫–∞—á–∞—Ç—å—Å—è zip-–∞—Ä—Ö–∏–≤. –í–Ω—É—Ç—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤, –≤ —Ç–æ–º —á–∏—Å–ª–µ —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `jar`.

![](–î–ó3/2_1.png)

2. –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `WolframAlpha-1.1.jar` –≤ –ø–∞–ø–∫—É `libs`.

![](–î–ó3/2_2.png)

3. –î–æ–±–∞–≤—å—Ç–µ –ø–∞–ø–∫—É `libs` –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫ (–µ—Å–ª–∏ —ç—Ç–æ–≥–æ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ). –î–ª—è —ç—Ç–æ–≥–æ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `build.gradle` –≤ –º–æ–¥—É–ª–µ `app`. –í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –ø–æ–∏—Å–∫–æ–º (–¥–≤–æ–π–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ Shift), –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –ø–æ —Ñ–∞–π–ª–∞–º. –í–≤–µ–¥–∏—Ç–µ `build.gradle` –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ç, –æ–∫–æ–ª–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–æ `app`. –¢–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞.

![](–î–ó3/2_3.png)

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –≤ —Ñ–∞–π–ª–µ `build.gradle` –≤ –±–ª–æ–∫–µ `dependencies` —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–∞–ø–∫–∏ `lib`: 
```
implementation fileTree(dir: "libs", include: ["*.jar"])
```
–ï—Å–ª–∏ —Ç–∞–∫–æ–π —Å—Ç—Ä–æ–∫–∏ –Ω–µ—Ç, —Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –µ—ë:

![](–î–ó3/2_4.png)

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ `Sync Project with Gradle Files` –∏–∑ –ø–æ–∏—Å–∫–∞ (2 * Shift), —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É.

![](–î–ó3/2_5.png)

6. –í–∫–ª—é—á–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É http –∏ —Å—Ç–∞—Ä–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –î–ª—è —ç—Ç–æ–≥–æ –≤ —Ñ–∞–π–ª–µ `AndroidManifest.xml` –¥–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫–∏ 

```xml
android:usesCleartextTraffic="true"
```
–∏ 

```xml
<uses-library android:name="org.apache.http.legacy" android:required="false"/>
```

![](–î–ó3/2_6.png)


## –ó–∞–¥–∞–Ω–∏–µ 3

–†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–≤–µ—Ç—ã —á–µ—Ä–µ–∑ **Wolfram Alpha** –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.


### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1. –î–æ–±–∞–≤—å—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç. –î–ª—è —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ (–≤—ã–¥–µ–ª–µ–Ω –∂—ë–ª—Ç—ã–º) –≤ —Ñ–∞–π–ª `AndroidManifest.xml`. 

```xml
<uses-permission android:name="android.permission.INTERNET"/>
```

![](–î–ó3/3_1.png)

2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `WolframAlpha` –≤ —Ñ–∞–π–ª–µ `MainActivity.kt`. 

```kotlin
import com.wolfram.alpha.WAEngine
import com.wolfram.alpha.WAPlainText
```

![](–î–ó3/3_2.png)

3. –ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—é –≤–≤–æ–¥–∞ –≤–æ–ø—Ä–æ—Å–∞ –∏ –∫–Ω–æ–ø–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–æ–ø—Ä–æ—Å–∞ —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–æ–¥–∞ –≤ —Ñ–∞–π–ª–µ `MainActivity.kt`.

```kotlin
val questionInput = findViewById<TextView>(R.id.question_input)
val searchButton = findViewById<Button>(R.id.search_button)
```

![](–î–ó3/3_3.png)

4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∏ –≤—ã–≤–æ–¥–∏—Ç—å –æ—Ç–≤–µ—Ç –≤ logcat.

–§—É–Ω–∫—Ü–∏—è: 
```kotlin
     fun askWolfram(question: String) {
      val wolframAppId = "DEMO" // change to your App Id
 
    val engine = WAEngine()
    engine.appID = wolframAppId
    engine.addFormat("plaintext")
 
    val query = engine.createQuery()
    query.input = question
 
    Thread(Runnable {
      val queryResult = engine.performQuery(query)
      if (queryResult.isError) {
        Log.e("wolfram error", queryResult.errorMessage)
      } else if (!queryResult.isSuccess) {
        Log.e("wolfram error", "Sorry, I don't understand, can you rephrase?")
      } else {
         for (pod in queryResult.pods) {
           if (!pod.isError) {
             for (subpod in pod.subpods) {
               for (element in subpod.contents) {
                 if (element is WAPlainText) {
                   Log.d("wolfram", element.text)
                 }
               }
             }
           }
         }
       }
    }).start()
  }
```

–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–¥–µ —Ñ–∞–π–ª–∞ `MainActivity.kt`.

![](–î–ó3/3_4.png)

5. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É üïµÔ∏è‚Äç(—á–µ–ª–æ–≤–µ–∫ —Å –ª—É–ø–æ–π) —Å –ø–æ–º–æ—â—å—é `setOnClickListener`.

```kotlin
 searchButton.setOnClickListener {
    askWolfram(questionInput.text.toString())
 }
```

![](–î–ó3/3_5.png)

6. –ò–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–∞–∫, —á—Ç–æ–±—ã –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–≤–æ–¥–∏–ª—Å—è –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –ø–æ–ª–µ. 

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `askWolfram` –≤—ã–¥–µ–ª–µ–Ω—ã –∂—ë–ª—Ç—ã–º —Ü–≤–µ—Ç–æ–º.

![](–î–ó3/3_6.png)

–í –∏—Ç–æ–≥–µ —Ñ—É–Ω–∫—Ü–∏—è `askWolfram` –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```kotlin
fun askWolfram(question: String) {
   val wolframAppId = "DEMO"
 
   val engine = WAEngine()
   engine.appID = wolframAppId
   engine.addFormat("plaintext")
 
   val query = engine.createQuery()
   query.input = question
 
 val answerText = findViewById<TextView>(R.id.answer_output)
 answerText.text = "Let me think..."
 
 Thread(Runnable {
   val queryResult = engine.performQuery(query)
 
   answerText.post { // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –Ω–∞ Main Thread
      if (queryResult.isError) {
        Log.e("wolfram error", queryResult.errorMessage)
        answerText.text = queryResult.errorMessage
      } else if (!queryResult.isSuccess) {
        Log.e("wolfram error", "Sorry, I don't understand, can you rephrase?")
       answerText.text = "Sorry, I don't understand, can you rephrase?"
      } else {
        for (pod in queryResult.pods) {
          if (!pod.isError) {
            for (subpod in pod.subpods) {
              for (element in subpod.contents) {
                if (element is WAPlainText) {
                  Log.d("wolfram", element.text)
                  answerText.text = element.text
                }
              }
            }
          }
        }
      }
    }
  }).start()
}
```

## –ó–∞–¥–∞–Ω–∏–µ 4 (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ)

–î–æ–±–∞–≤—å—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–¥–µ–ª–∏—Ç—å –∏ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç **Wolfram Alpha** –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. 

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 

–î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `android:textIsSelectable="true"`  –∫ `TextView`, –≤ –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç—Å—è –æ—Ç–≤–µ—Ç, –≤ —Ñ–∞–π–ª `activity_main.xml`.

![](–î–ó3/3_7.png)


–õ—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ä–µ—à–µ–Ω–∏—é –∑–∞–¥–∞—á –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤ —á–∞—Ç–µ –≤ Telegram.
