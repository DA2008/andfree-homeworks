# Домашнее задание к занятию 3. Взаимодействие со сторонними сервисами 
Для получения коротких текстовых ответов на текстовые вопросы существует удобный сервис от Wolfram Alpha, а именно [Short Answer API](https://products.wolframalpha.com/simple-api/documentation/). В этом домашнем задании вам необходимо добавить взаимодействие с этим сервисом в ваше приложение.
 

## Задание 1. Регистрация в Wolfram Alpha
Зарегестрируйтесь на сервере **Wolfram Alpha**, чтобы разблокировать полный функционал запросов. 

Для тестирования ограниченного количества запросов (напр., How big is the universe?) можно ограничиться тестовым ключом "DEMO".

### Инструкция
1. Зарегистрируйтесь как разработчик в Wolfram Alpha по [ссылке](https://account.wolfram.com/login/create).
2. Получите AppID. Для этого перейдите по [ссылке](https://developer.wolframalpha.com/portal/myapps/index.html), нажмите **Get an AppID**. Обратите внимание, что после получения AppID надо подождать несколько часов, прежде чем он начнёт работать.


## Задание 2. Внедрение Wolfram Alpha SDK
Добавьте **Wolfram Alpha SDK** в проект.

### Инструкция
1. Перейдите на [страницу библиотек Wolfram Alpha.](https://products.wolframalpha.com/api/libraries.html) Выберите Java. Нажмите Download. После этого должен скачаться zip-архив. Внутри несколько файлов, в том числе файл с расширением `jar`.
2. Поместите файл библиотеки `WolframAlpha-1.1.jar` в папку `libs`.
3. Добавьте папку `libs` как источник библиотек (если этого ещё не сделано). Для этого откройте файл `build.gradle` в модуле `app`. Воспользуйтесь поиском (двойное нажатие на Shift), на этот раз по файлам. Введите `build.gradle` и выберите тот, около которого написано `app`. Там находится список всех библиотек проекта.
4. Проверьте, есть ли в файле `build.gradle` в блоке `dependencies` упоминание папки `lib`. Если такой строки нет, то добавьте её. 

```
implementation fileTree(dir: "libs", include: ["*.jar"])
```

5. Запустите действие `Sync Project with Gradle Files` из поиска (2 * Shift), чтобы обновить зависимости и подключить библиотеку.
6. Импортируйте библиотеку `WolframAlpha` в файле `MainActivity.kt`. 


## Задание 3. Настройка AndroidManifest
Настройте AndroidManifest приложения для разблокировки возможности делать запросы через интернет.

### Инструкция
1. Включите поддержку HTTP и старой библиотеки. Для этого в файле `AndroidManifest.xml` добавьте строки: 

```xml
android:usesCleartextTraffic="true"
```
и 

```xml
<uses-library android:name="org.apache.http.legacy" android:required="false"/>
```

2. Добавьте в приложение запрос разрешения на доступ в интернет. Для этого добавьте следующий код (выделен жёлтым) в файл `AndroidManifest.xml`. 

```xml
<uses-permission android:name="android.permission.INTERNET"/>
```


## Задание 4. Использование Wolfram Alfa SDK
Реализуйте возможность задавать вопросы и получать ответы через **Wolfram Alpha** в вашем приложении.

### Инструкция
1. Получите доступ к виджету текстового ввода и виджету списка.
2. Создайте переменную для хранения запросов и адаптер для виджета списка.
3. Проинициализируйте движок Wolfram с использованием ключа, полученного при регистрации (можно ограничиться тестовым ключом "DEMO").
4. В gradle файл модуля app добавьте зависимость на библиотеку с сопрограммами:

```
implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.4.3'
```

5. Создайте функцию для запроса сервера Wolfram с использованием сопрограммы с учетом того, что запрос на сервер должен быть исполнен в IO потоке, а вывод информации пользователю - в Main потоке.
6. Реализуйте действие кнопки меню "Поиск".

Любые вопросы по решению задач задавайте в чате в Telegram.